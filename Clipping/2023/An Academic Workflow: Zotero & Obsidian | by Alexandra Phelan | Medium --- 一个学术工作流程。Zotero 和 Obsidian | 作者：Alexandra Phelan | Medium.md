> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [medium.com](https://medium.com/@alexandraphelan/an-academic-workflow-zotero-obsidian-56bf918d51ab)

> As an academic, my daily workflow involves collecting resources, reading and annotating them, creatin......

![](https://miro.medium.com/proxy/1*NADjCHzJSxgEj92Xr71MVQ.png)My Obsidian database in graph view, showing bidirectional links between notes, and key nodes of common tags.  
我的黑曜石数据库的图形视图，显示了笔记之间的双向链接，以及常见标签的关键节点。

As an academic, my daily workflow involves collecting resources, reading and annotating them, creating notes, writing manuscripts, and citing references. This list doesn’t reflect the varying intensity and effort between these steps. Increasingly, “creating notes” has become the central part of my workflow: it’s where I synthesize what I’ve read, link concepts, get and develop ideas, and complete a first draft on an atomic part of a broader topic. Similarly, writing a manuscript is a huge lift, but it is easier when I have already developed these smaller, already synthesized and drafted notes (for those who know the [Zettelkasten system](https://zettelkasten.de/posts/overview/), this will already be familiar). It’s also substantially easier for me to write in a markdown editor, than in Word, Scrivener, or Google Docs – each with their own sluggishness and distracting formatting.  
作为一名学者，我的日常工作流程包括收集资源、阅读和注释、创建笔记、撰写手稿和引用参考文献。这份清单并没有反映出这些步骤之间不同的强度和努力。越来越多的时候，"创建笔记" 已经成为我工作流程的核心部分：在这里，我综合了我所读到的内容，将概念联系起来，获得并发展想法，并完成一个更广泛主题的原子部分的初稿。同样，写一篇稿子是一个巨大的提升，但当我已经制定了这些较小的，已经综合和起草的笔记时，它就更容易了（对于那些知道 Zettelkasten 系统的人 ，这将已经很熟悉）。对我来说，在 markdown 编辑器中写作也大大容易，而不是在 Word、Scrivener 或 Google Docs 中 -- 每一种都有自己的迟钝性和令人分心的格式。

Zotero: collecting resources, annotating them, citing references  
Zotero：收集资源，对其进行注释，引用参考文献
--------------------------------------------------------------------------------------------

For most of my academic workflow steps, [Zotero](https://www.zotero.org/) performs excellently. I use my library as a database that holds nearly 15 years of my research. I add resources to my library using the browser connectors that come with Zotero or manually, meaning that all the metadata for a resource (author, title, type, journal name, date etc) is logged. Every entry in my database is also linked to a PDF of the book or article, where I can read, highlight and add notes. Then, when I write a manuscript, I can easily insert citations in whatever citation style the relevant journal or editor requires. As someone who works across the law and science disciplines, being able to switch between APA, Bluebook or Nature at the press of a button is critical. While I use [Jurism](https://juris-m.github.io/) — a fork of Zotero that is better designed to handle law or international sources — Zotero’s latest update to Zotero 6 prompted the recalibration of my workflow. And while I’ll continue to use Jurism for now, the workflow below should be helpful for those using Zotero 6 and Obsidian.  
对于我的大多数学术工作流程步骤，Zotero 表现得非常好。我把我的图书馆作为一个数据库，它保存了我近 15 年的研究。我使用 Zotero 自带的浏览器连接器或手动将资源添加到我的图书馆，这意味着资源的所有元数据（作者、标题、类型、期刊名称、日期等）都被记录下来。我的数据库中的每个条目都与该书或文章的 PDF 文件相链接，我可以在那里阅读、加亮并添加注释。然后，当我写手稿时，我可以很容易地以相关期刊或编辑要求的任何引用方式插入引用。作为一个在法律和科学领域工作的人，能够在 APA、Bluebook 或 Nature 之间一键切换是至关重要的。虽然我使用的是 Jurism--Zotero 的一个分叉，它更适合处理法律或国际资料，但 Zotero 最新的 Zotero 6 更新促使我重新调整工作流程。虽然我现在会继续使用 Jurism，但下面的工作流程对使用 Zotero 6 和 Obsidian 的人应该有帮助。

Obsidian: creating notes, writing manuscripts  
黑曜石：创建笔记，撰写手稿
-------------------------------------------------------------

It’s a waste of time to collect resources and do nothing with them. It’s inefficient to collect them, and then come back to a database like this just to cite a resource _if_ you remember. For me, the synthesis of my readings and annotations into new notes that help me draft manuscripts is the most critical part of my workflow. I could use any text editor to collect these notes, or even just the note function in Zotero itself. But I want to build and connect my ideas. I’ve never worked in strict disciplinary siloes, so my writing process never has either. To really embrace this, a simple text editor, potentially with one-way links between topics, is not enough. I need [bidirectional linking](https://maggieappleton.com/bidirectionals) and delight in pluralism. That’s where [Obsidian](https://obsidian.md/) comes in. Obsidian is a markdown editor, providing a distraction free writing environment. But Obsidian provides more than just a text editor and facilitates bidirectional links to create relationships between ideas.  
收集资源而不加以利用是浪费时间的。收集资源，然后回到像这样的数据库，只是为了在你记得的时候引用一个资源，这样做的效率很低。对我来说，把我的读物和注释综合成新的笔记，帮助我起草手稿，是我工作流程中最关键的部分。我可以使用任何文本编辑器来收集这些笔记，甚至可以只使用 Zotero 本身的笔记功能。但我想建立和连接我的想法。我从未在严格的学科孤岛中工作过，所以我的写作过程也从未如此。要真正接受这一点，一个简单的文本编辑器，可能有主题之间的单向链接，是不够的。我需要的是双向链接和对多元主义的喜悦。这就是黑曜石的作用。Obsidian 是一个 markdown 编辑器，提供了一个无干扰的写作环境。但黑曜石提供的不仅仅是一个文本编辑器，还促进了双向链接，以建立思想之间的关系。

![](https://miro.medium.com/max/1400/1*PF7DtY7gZf_hSlDkyfFwcQ.png)

There are a range of plugins for Zotero, but I recommend installing:  
有一系列用于 Zotero 的插件，但我建议安装。

*   [**zotfile**](http://zotfile.com/) for managing pdfs. While Zotero 6 enables annotation in the app, and storing the pdfs in Zotero storage, I use zotfile to automatically rename pdfs into a consistent format (e.g. author_date_title) and move them to a specified attachments folder not in Zotero storage. This lets me keep all of annotations saved separately to Zotero and so I can access them through my file explorer (including on my tablet for my preferred pdf reader). If you’re happy with staying within the Zotero ecosystem, this may not be necessary.  
    zotfile 用于管理 pdf 文件。虽然 Zotero 6 可以在应用程序中进行注释，并将 pdf 存储在 Zotero 存储中，但我使用 zotfile 自动将 pdf 重命名为一致的格式（例如 author_date_title），并将它们移到指定的附件文件夹中，而不是 Zotero 存储中。这让我把所有的注释单独保存在 Zotero 中，这样我就可以通过我的文件资源管理器（包括在我的平板电脑上的首选 pdf 阅读器）访问它们。如果你对呆在 Zotero 生态系统内感到满意，这可能就没有必要了。
*   [**betterbibtex**](https://retorque.re/zotero-better-bibtex/) for creating citekeys. Betterbibtex does a lot, but I mainly use it to automatically create consistent [pandoc](https://pandoc.org/) citekeys (author_date, e.g. Carter_2022) that I can use when writing manuscripts in Obsidian. If you’re not planning on using Obsidian to write and cite, this may not be necessary.  
    betterbibtex 用于创建引证键。Betterbibtex 有很多功能，但我主要是用它来自动创建一致的 pandoc 引用键（author_date，例如 Carter_2022），当我在 Obsidian 中写稿时可以使用。如果你不打算用 Obsidian 写稿和引证，这可能就没有必要了。

![](https://miro.medium.com/max/1400/1*4nABx_iY92q0CrrS3gWhYQ.jpeg)My Zotero database, containing journal articles, books, chapters, reports, and primary sources like international and domestic court cases, statutes, and treaties.  
我的 Zotero 数据库，包含期刊文章、书籍、章节、报告，以及国际和国内法院案例、法规和条约等原始资料。

The second part of the workflow relies on a number of Obsidian community plugins. The [**Obsidian Zotero Desktop Connector**](https://github.com/mgmeyers/obsidian-zotero-desktop-connector) is the only essential one for creating Literature Notes. However the roll-up summary page requires [**dataview**](https://github.com/blacksmithgu/obsidian-dataview), and exporting manuscripts written in Obsidian with citekeys to docx requires the [**pandoc**](https://github.com/OliverBalfour/obsidian-pandoc) plugin. With Obsidian (v0.14), call outs are now incorporated. I use the [**admonitions**](https://github.com/valentine195/obsidian-admonition) plugin to create customized call outs.  
工作流程的第二部分依赖于一些 Obsidian 社区的插件。黑曜石 Zotero 桌面连接器是创建文献笔记的唯一必要插件。然而，滚动摘要页需要 dataview，而将 Obsidian 中写的带有 citekeys 的手稿导出到 docx 需要 pandoc 插件。在黑曜石（v0.14）中，现在已经加入了呼出功能。我使用谏言插件来创建自定义的呼出。

Literature Notes are essentially a single note for every reference, containing the full metadata, link to Zotero, and annotations and notes extracted from the PDF stored in Zotero.  
文献注释基本上是每个参考文献的单一注释，包含完整的元数据、与 Zotero 的链接，以及从存储在 Zotero 的 PDF 中提取的注释和说明。

**Zotero Desktop Connector for Literature Notes  
文献笔记的 Zotero 桌面连接器  
**There are two main templates required to get the Literature Note structure — Header and Annotations. The markdown code for each is set out below. These are saved as markdown files in the vault.  
有两个主要的模板需要获得文学笔记的结构 -- 标题和注释。每个模板的标记代码如下。这些都是作为标记文件保存在保险库中。

*   **Literature Note Header 文献注释页眉**

![](https://miro.medium.com/max/1400/1*fqO-aQMtcv-gZp3yRnNg1w.png)

This template –‘infoheader’– provides the formatting framework for my literature notes. I like being able to have the full citation at the top to copy-paste if needed. I also like to synthesise the core contribution the piece makes to the literature up front. The template extracts the metadata from Zotero, including using nunjucks ‘if’’ functions to populate specific resource details. After import, I manually change the first author from **Author**:: to **FirstAuthor**:: to simplify long author lists in my summary roll-up table (below).  
这个模板 --'infoheader'-- 为我的文献笔记提供了格式框架。我喜欢把完整的引文放在顶部，以便在需要时复制粘贴。我也喜欢把文章对文献的核心贡献综合在前面。这个模板从 Zotero 中提取元数据，包括使用 nunjucks 的 "if" 功能来填充特定的资源细节。导入后，我手动将第一作者从 Author:: 改为 FirstAuthor::，以简化汇总表中长长的作者名单（如下）。

```
> [!Cite]
> {{bibliography}}>[!Synth]
>**Contribution**::>[!md]
> {%- for creator in creators %} {%- if creator.name == null %} **{{creator.creatorType | capitalize}}**:: {{creator.lastName}}, {{creator.firstName}}{%- endif -%}<br>
> {%- if creator.name %}**{{creator.creatorType | capitalize}}**:: {{creator.name}}{%- endif -%}{%- endfor %} 
> **Title**:: {{title}}  
> **Year**:: {{date | format("YYYY")}}   
> **Citekey**:: @{{citekey}}  
> {%- if itemType %}**itemType**:: {{itemType}}{%- endif %}  
> {%- if itemType == "journalArticle" %}**Journal**:: *{{publicationTitle}}* {%- endif %}  
> {%- if volume %}**Volume**:: {{volume}} {%- endif %}  
> {%- if issue %}**Issue**:: {{issue}} {%- endif %}   
> {%- if itemType == "bookSection" %}**Book**:: {{publicationTitle}} {%- endif %}  
> {%- if publisher %}**Publisher**:: {{publisher}} {%- endif %}  
> {%- if place %}**Location**:: {{place}} {%- endif %}   
> {%- if pages %} **Pages**:: {{pages}} {%- endif %}  
> {%- if DOI %}**DOI**:: {{DOI}} {%- endif %}  
> {%- if ISBN %}**ISBN**:: {{ISBN}} {%- endif %}> [!LINK] 
> {%- for attachment in attachments | filterby("path", "endswith", ".pdf") %}
>  [{{attachment.title}}](file://{{attachment.path | replace(" ", "%20")}})  {%- endfor -%}.> [!Abstract]
> {%- if abstractNote %}
> {{abstractNote}}
> {%- endif -%}{%- set important = annotations | filterby("comment", "startswith", "important") -%}
{%- if important.length > 0 %}> [!important] Callouts
{%- for annotation in important -%}
{%- if annotation.annotatedText %}
> - {{annotation.annotatedText | nl2br}}
{%- endif -%}
{%- if annotation.imageRelativePath %}
> - ![[{{annotation.imageRelativePath}}]]
{%- endif %}
> [page {{annotation.page}}](file://{{annotation.attachment.path | replace(" ", "%20")}})
{%- endfor -%}
{%- endif %}
{%- if annotations.length %}## Annotations
{%- endif %}

```

*   **Annotations 注释**

![](https://miro.medium.com/max/1400/1*GC06No20_eZ83uGgM6vYag.png)

This annotation template – ‘annots’ – does a few things. Firstly, it sets out separate formatting for highlight colours. This is useful for me because I use different highlighting colours to communicate different things:  
这个注释模板 --'annots'-- 做了几件事。首先，它为高光颜色设置了单独的格式。这对我来说很有用，因为我用不同的高亮色来表达不同的东西。  
- 🟡 interesting point - 🟡有趣的观点  
- 🟢 literature to read - 🟢文献阅读  
- 🔵 key conclusion/ - 🔵关键结论 /。_ratio decidendi 判例法  
_- 🟣 author critique of other literature  
- 🟣作者对其他文献的评论  
_-_ 🔴 disagree with author - 🔴不同意作者的观点  
- 🟠️ highlights after first iteration  
- 🟠️ 第一次迭代后的亮点

The template also extracts written annotations as notes. Here you can also set styles for underlines, strikethroughs etc, but I don’t use them so have simplified the template.  
该模板还可以提取书面注释作为备注。在这里你还可以设置下划线、删除线等样式，但我不使用它们，所以简化了模板。

The rest of the template then allows for subsequent annotations to be added to the literature note without wiping any changes or edits made after import.  
然后，模板的其余部分允许随后的注释被添加到文献笔记中，而不会抹去导入后的任何修改或编辑。

```
{%- macro calloutHeader(type, color) -%}
{%- if type == "highlight" -%}
<mark style="background-color: {{color}}">Highlight</mark>
{%- endif -%}{%- if type == "text" -%}
Note
{%- endif -%}
{%- endmacro -%}{%- set annots = annotations | filterby("date", "dateafter", lastExportDate) -%}
{%- if annots.length > 0 %}
### Exported: {{exportDate | format("YYYY-MM-DD h:mm a")}}{% for annot in annots -%}
> {{calloutHeader(annot.type, annot.color)}}
{%- if annot.annotatedText %}
> {{annot.annotatedText | nl2br}}
{%- endif -%}
{%- if annot.imageRelativePath %}
> ![[{{annot.imageRelativePath}}]]
{%- endif %}
> [page {{annot.page}}](file://{{annot.attachment.path | replace(" ", "%20")}}) [[{{annot.date | format("YYYY-MM-DD#h:mm a")}}]]
{%- if annot.comment %}
> - {{annot.comment | nl2br}}
{% endif %}{% endfor -%}
{% endif -%}

```

Once the Header and Annotations files are setup, activate the Obsidian command picker (cmd-p on mac) and select “Zotero Desktop Connector: Create Literature Note”. I have set this to a hotkey to immediately launch.  
一旦标题和注释文件设置完毕，激活黑曜石命令选择器（Mac 上为 cmd-p）并选择 "Zotero 桌面连接器"。创建文献注释 "。我已将其设置为热键，以便立即启动。

![](https://miro.medium.com/max/1400/1*GgiVm5CAnXgwS25GcNIWAA.png)

The Zotero prompt should appear, and you can type in your reference for which you’re creating a Literature Note.  
Zotero 的提示会出现，你可以输入你要创建文献笔记的参考文献。

![](https://miro.medium.com/max/1400/1*Czplq0hnBk6XZ9BqF77-0Q.png)

Once selected, ZDC will run, and output in one Literature Note the Header and Annotations:  
一旦选定，ZDC 将运行，并在一个文献中输出 注释标题和注释。

![](https://miro.medium.com/max/1400/1*ULEiGz45BTM6JZTQUjN5AQ.png)![](https://miro.medium.com/max/1400/1*gcOCdiY170_nuJV-qp9qOg.png)The first two references have been manually edited as part of synthesis process.  
作为综合过程的一部分，前两个参考文献已被人工编辑。

You can then edit the document, and edits will be preserved. If you subsequently add more notes and annotations in the relevant PDF, they will be added in separate entries when you re-run “Zotero Desktop Connector: Create Literature Note”. If you move the Literature Note from the output folder, this will not update the moved file but will instead create a new note in the original output folder. I recommend therefore keeping one Literature Notes output folder and not moving your files.  
然后你可以编辑该文件，编辑的内容会被保留下来。如果你后来在相关的 PDF 中添加了更多的注释和说明，当你重新运行 "Zotero 桌面连接器" 时，它们将被添加到单独的条目中。创建文献注释 "。如果你从输出文件夹中移动文学笔记，这将不会更新被移动的文件，而是在原输出文件夹中创建一个新的笔记。因此，我建议保留一个文献笔记输出文件夹，不要移动你的文件。

**Summary Roll-Up of Literature Notes  
文献注释的摘要滚动**

In a new Obsidian note, dataview can be used to create a roll-up of all literature notes:  
在一个新的黑曜石笔记中，dataview 可以用来创建一个所有文献笔记的卷轴。

```
```dataview
tabletitle as Title, 
FirstAuthor as "First Author", 
Year as Year,
itemType as Item, 
Citekey as Citekey, 
Contribution as Contribution
FROM "[insert Literature Notes folder here]"```

```

which results in: 这就导致了。

![](https://miro.medium.com/max/1400/1*eTBRlCz2WNsv4kbTdYZwRQ.png)

Writing in Obsidian is essentially the same in any other text editor, except formatting is done using [markdown](https://help.obsidian.md/How+to/Format+your+notes):  
在 Obsidian 中写作基本上和其他文本编辑器一样，除了格式化是用 markdown 完成的。

![](https://miro.medium.com/max/1400/1*gktExOIMD7CNU0VIeI92KA.png)

Zotero Desktop Connector can be used to add in citations. First, you need to set your preferred citation styles. Ensure that you have the selected style installed (CSL) in your Zotero (Preferences > Cite > Styles). This will insert the completed citation in the preferred format.  
Zotero 桌面连接器可用于添加引文。首先，你需要设置你喜欢的引文样式。确保你在 Zotero 中安装了选定的样式（CSL）（首选项 > 引用 > 样式）。这将以首选格式插入完成的引文。

Alternatively, you can also setup Pandoc citations that allows you to easily change formats as required (for example, if submitting to different journals).  
另外，你也可以设置 Pandoc 引文，允许你根据需要轻松改变格式（例如，如果提交给不同的期刊）。

![](https://miro.medium.com/max/1400/1*n4tMks1KJd-mzTH5lFHCAA.png)

Adding citations 添加引文
---------------------

Use the Obsidian command prompt to navigate to the citation style you want to insert a citation for. You can setup hotkeys to immediately go to your preferred style.  
使用 Obsidian 命令提示符导航到你想插入的引文样式。你可以设置热键来立即转到你喜欢的样式。

![](https://miro.medium.com/max/1400/1*r0VUZOpe0IBQgMDfys7rYA.png)

You can then select the relevant citation in Zotero…  
然后你可以在 Zotero 中选择相关引文...

![](https://miro.medium.com/max/1400/1*GVlE0vA76QWpxBCd5-6Vbg.png)

and the selected cite is inserted into the document. Here, I have used a pandoc citation:  
并将选定的引文插入到文档中。在这里，我使用了一个 pandoc 引文。

![](https://miro.medium.com/max/1300/1*syWgKqI1nro_fjl_cQEbYA.png)

Converting from markdown to docx & process citations  
从 markdown 到 docx 的转换和处理引文
---------------------------------------------------------------------------------

**Setting pandoc to read your Zotero library  
设置 pandoc 来读取你的 Zotero 库**Once citations are added, you can process them using the pandoc plugin. The first step is to export your Zotero library as a .bib file, and then point the pandoc plugin to it. You can do this using YAML frontmatter:  
一旦添加了引文，你可以用 pandoc 插件来处理它们。第一步是将你的 Zotero 库导出为一个. bib 文件，然后将 pandoc 插件指向它。你可以使用 YAML frontmatter 来做这个。

```
---
bibliography: ~/yourpath/My library.bib
---

```

or set it permanently in the pandoc plugin by adding to the Extra Pandoc Arguments box:  
或者在 pandoc 插件中通过添加到 Extra Pandoc Arguments 框中永久地设置它。

```
--metadata bibliography=~/yourpath/My Library.bib

```

**Setting pandoc to process citation in preferred style  
设置 pandoc 来处理首选风格的引文**

The default pandoc citation is Chicago (author date).  
默认的 pandoc 引文是芝加哥（作者日期）。

If you want to change the citation style or which zotero library you’re extra, you can set the CSL in the YAML metadata or in the pandoc plugin settings:  
如果你想改变引文风格或你额外的 zotero 库，你可以在 YAML 元数据或 pandoc 插件设置中设置 CSL。

```
---
csl: ~/yourpath/style.csl
---

```

or set it permanently in the pandoc plugin settings by adding to the Extra Pandoc Arguments box:  
或者在 pandoc 插件设置中通过添加到 Extra Pandoc Arguments 框中永久地设置它。

```
--metadata csl=~/yourpath/style.csl

```

**Exporting to docx 导出到 docx**

Simply open the command palette and select pandoc plugin: export as word document (docx). It will export to the same folder as the md file, or to a specified export folder provided in the obsidian pandoc plugin settings.  
只要打开命令调色板，选择 pandoc 插件：导出为 word 文档（docx）。它将导出到与 md 文件相同的文件夹，或者导出到黑曜石 pandoc 插件设置中提供的指定导出文件夹。

![](https://miro.medium.com/max/1400/1*dr3nU3opf87UYmx-xxTB1Q.png)

Alternatively, if you’re on a mac, you can use Terminal to do all of the above. Installation instructions [here](https://pandoc.org/installing.html).  
或者，如果你是在 Mac 上，你可以使用终端来完成上述所有的工作。这里有安装说明。

```
pandoc "path/to/input.md" -o "path/to/output.docx" --citeproc --bibliography "path/to/library.bib" --csl "path/to/citation_style.csl"

```

Going forward 向前迈进
------------------

Once you are familiar with the processes and the setup, the workflow runs incredibly smoothly. This is a steepish learning curve if you have limited programming experience or comfort, but this is a fairly user-interface-driven friendly approach to developing a full academic research and citation workflow.  
一旦你熟悉了这些流程和设置，工作流程的运行就会非常顺利。如果你的编程经验或舒适度有限，这是一个陡峭的学习曲线，但这是一个相当用户接口驱动的友好方法，可以开发一个完整的学术研究和引文工作流程。

**Thanks** to the Obsidian Discord, especially [Mathew Meyers](https://github.com/mgmeyers), [Chris Grieser](https://github.com/chrisgrieser), [Eleanor Konik](https://www.eleanorkonik.com/), [Leah Ferguson](https://notes.leahferguson.com/Home).  
感谢 Obsidian Discord，特别是 Mathew Meyers , Chris Grieser , Eleanor Konik , Leah Ferguson。